<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSKH Professional System - 8KBET</title>
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #f1f5f9; margin: 0; overflow: hidden; display: flex; height: 100vh; }
        .custom-scrollbar::-webkit-scrollbar { width: 5px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .chat-gradient { background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%); }
        .active-user { background-color: #334155 !important; border-left: 4px solid #38bdf8; }
        @keyframes slideUp { from { bottom: -100px; opacity: 0; } to { bottom: 20px; opacity: 1; } }
        .install-popup { animation: slideUp 0.5s ease; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; width: 90%; max-width: 400px; }
    </style>
</head>
<body>

    <aside class="w-80 bg-slate-900 border-r border-slate-700 flex flex-col">
        <div class="p-4 border-b border-slate-700">
            <h1 class="text-xl font-bold text-sky-400"><i class="fa-solid fa-bolt-lightning mr-2"></i>CSKH PRO 2026</h1>
            <input type="text" placeholder="Tìm tên hoặc mã khách..." class="w-full mt-3 bg-slate-800 border border-slate-600 rounded-lg px-3 py-2 text-sm text-white outline-none focus:border-sky-500">
        </div>
        <div class="flex-1 overflow-y-auto custom-scrollbar">
            <div class="p-3 text-[10px] font-bold text-slate-500 uppercase">Khách mới chưa trả lời</div>
            <div class="active-user p-4 flex items-center gap-3 cursor-pointer">
                <div class="relative"><img src="https://i.pravatar.cc/150?u=9" class="w-10 h-10 rounded-full border-2 border-sky-500"><span class="absolute bottom-0 right-0 w-3 h-3 bg-sky-500 border-2 border-slate-900 rounded-full"></span></div>
                <div class="flex-1"><div class="flex justify-between"><span class="text-sm font-semibold">Khách Mới #01</span><span class="text-[10px] text-sky-400">Vừa xong</span></div><p class="text-xs text-slate-400 truncate">Em ơi nạp 500k tặng gì...</p></div>
            </div>
            <div class="p-3 text-[10px] font-bold text-slate-500 uppercase mt-4">Khách cũ / VIP</div>
            <div class="p-4 flex items-center gap-3 cursor-pointer hover:bg-slate-800">
                <img src="https://i.pravatar.cc/150?u=5" class="w-10 h-10 rounded-full opacity-60">
                <div class="flex-1"><div class="flex justify-between"><span class="text-sm">Đại Gia VVIP</span><span class="text-[10px] text-slate-500">1 giờ</span></div><p class="text-xs text-slate-500 truncate">Đã nhận hoàn trả chưa anh?</p></div>
                <span class="bg-amber-500/20 text-amber-500 text-[9px] px-2 py-0.5 rounded">VIP</span>
            </div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col chat-gradient">
        <header class="p-4 bg-slate-800/50 border-b border-slate-700 flex justify-between items-center">
            <div class="flex items-center gap-3"><h2 class="font-bold">Khách Mới #01</h2><span class="text-sky-400 text-[10px] animate-pulse">● ĐANG TRỰC TUYẾN</span></div>
        </header>
        <div id="chatBox" class="flex-1 p-6 overflow-y-auto custom-scrollbar flex flex-col gap-4">
            <div class="bg-slate-800 p-3 rounded-2xl rounded-tl-none max-w-[70%] self-start shadow-md"><p class="text-sm">Tư vấn mình nạp tiền với shop!</p></div>
        </div>
        <div class="p-4 bg-slate-800/80 flex items-center gap-3 border-t border-slate-700">
            <input id="userInput" type="text" placeholder="Viết tin nhắn..." class="flex-1 bg-slate-700 border-none rounded-full px-5 py-3 text-sm text-white focus:ring-2 focus:ring-sky-500 outline-none">
            <button onclick="sendMessage()" class="bg-sky-500 p-3 rounded-full hover:bg-sky-600 transition"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </main>

    <aside class="w-80 bg-slate-900 border-l border-slate-700 p-5">
        <h3 class="text-sm font-bold border-b border-slate-700 pb-2 mb-4">CÔNG CỤ GỬI TIN LOẠT</h3>
        <label class="text-[10px] text-slate-500 font-bold block mb-1">MỤC TIÊU</label>
        <select id="target" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm mb-4 outline-none">
            <option value="new">Tất cả khách mới</option>
            <option value="vip">Danh sách VVIP</option>
        </select>
        <label class="text-[10px] text-slate-500 font-bold block mb-1">NỘI DUNG CONTENT</label>
        <textarea id="spamMsg" rows="4" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm mb-4 outline-none" placeholder="Nhập nội dung khuyến mãi..."></textarea>
        <label class="text-[10px] text-slate-500 font-bold block mb-1">HÌNH ẢNH (URL)</label>
        <input id="spamImg" type="text" class="w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-sm mb-6 outline-none" placeholder="Dán link ảnh tại đây...">
        <button onclick="runSpam()" class="w-full bg-sky-600 hover:bg-sky-500 py-3 rounded-lg font-bold shadow-lg transition shadow-sky-500/20 mb-4"><i class="fa-solid fa-rocket mr-2"></i>BẮT ĐẦU CHIẾN DỊCH</button>
        
        <div id="progressArea" class="hidden">
            <div class="flex justify-between text-[10px] mb-1"><span>Tiến độ:</span><span id="progText">0/0</span></div>
            <div class="w-full bg-slate-800 h-1.5 rounded-full overflow-hidden"><div id="progBar" class="bg-sky-500 h-full transition-all" style="width: 0%"></div></div>
        </div>
    </aside>

    <script>
        // Tự động hiện xin quyền thông báo và mời cài đặt App
        window.onload = function() {
            if ("Notification" in window) {
                Notification.requestPermission();
            }
            setTimeout(() => {
                const modal = `<div id="installModal" class="install-popup bg-slate-800 border border-sky-500 p-5 rounded-2xl shadow-2xl text-center">
                    <img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png" class="w-12 mx-auto mb-3">
                    <h3 class="font-bold text-sm">CÀI ĐẶT APP 8KBET</h3>
                    <p class="text-[11px] text-slate-400 my-2">Nhận thông báo khuyến mãi và hỗ trợ VIP ngay trên điện thoại của bạn.</p>
                    <button onclick="installGuide()" class="bg-sky-500 w-full py-2 rounded-lg text-black font-bold text-xs mt-2">TẢI VÀ CÀI ĐẶT (1-CLICK)</button>
                </div>`;
                document.body.insertAdjacentHTML('beforeend', modal);
            }, 3000);
        };

        function installGuide() {
            alert("HƯỚNG DẪN:\n1. Bấm nút 'Chia sẻ' hoặc '3 chấm'.\n2. Chọn 'Thêm vào màn hình chính'.");
            document.getElementById('installModal').remove();
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const chatBox = document.getElementById('chatBox');
            if(input.value.trim()){
                chatBox.insertAdjacentHTML('beforeend', `<div class="bg-sky-600 p-3 rounded-2xl rounded-tr-none max-w-[70%] self-end shadow-md"><p class="text-sm text-white">${input.value}</p></div>`);
                input.value = "";
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        }

        function runSpam() {
            const area = document.getElementById('progressArea');
            const bar = document.getElementById('progBar');
            const text = document.getElementById('progText');
            area.classList.remove('hidden');
            let count = 0; let total = 20;
            const timer = setInterval(() => {
                count++;
                bar.style.width = (count/total)*100 + "%";
                text.innerText = count + "/" + total;
                if(count >= total) {
                    clearInterval(timer);
                    alert("✅ CHIẾN DỊCH HOÀN TẤT!");
                    area.classList.add('hidden');
                }
            }, 200);
        }
    </script>
</body>
</html>
